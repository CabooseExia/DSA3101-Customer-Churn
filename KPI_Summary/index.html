<!DOCTYPE html>
<html>
<head>
    <!-- font Inter for the header -->
    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'> 
    
    <!-- css styles for the entire page -->
    <link rel="stylesheet" type="text/css" href="styles.css">

    <!-- GXSChurn Logo -->
    <link rel="preload" as="image" href="GXSChurn.png">

    <!-- Datepicker CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

    <!-- For the Font Awesome Icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!-- Plotly JS  -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</head>
<body>
    <!-- Header tab (can change the active depending on your tab) -->
    <header>
        <nav class="navbar navbar-expand-lg" style="background: rgb(14, 32, 97); padding:1% 1%;">
            <div class="container-fluid">
                <img src="GXSChurn.png" alt="GXSChurn logo">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto">
                    <li class="nav-item mx-3"><a href="#" class="nav-link active px-5">KPI Summary</a></li>
                    <li class="nav-item mx-3"><a href="#" class="nav-link px-5">Transactional Analysis</a></li>
                    <li class="nav-item mx-3"><a href="#" class="nav-link px-5">Customer Demographics</a></li>
                </ul>
            </div> 
        </nav>
    </header>
<!-- need to figure out how to utilize the custom range datepicker -->
<div class="d-inline">
    <div class="dropdown mt-3 mx-5">
        <button  class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> 
            Time 
            <i class="fas fa-filter"></i>
        </button>
            <ul class="dropdown-menu" aria_labelledby="dropdownMenuButton1">
                <li><a href="#" class="dropdown-item" id="past-six-month">Past 6 Months</a></li>
                <li><a href="#" class="dropdown-item" id="past-one-year">Past 1 Year</a></li>
                <li><hr class="dropdown-divider"></li>
                <div class="datepicker-container mx-3">
                    <input class="px-2" type="text" id="start-date" placeholder="Start date">
                    <label for="end-date">-</label>
                    <input class="px-2" type="text" id="end-date" placeholder="End date">
                    <button id="filter-button">Apply</button>
            </div>
        </ul>
    </div>
</div>
<!-- Figure out the css styling for these div div divs -->
<div class="container my-4">
    <div class="row">
      <div class="col mb-3">
        <div class="card h-100">
          <div class="card-body churn">
            <h5 class="card-title">Historical Churn Rate</h5>
            <h2 href="#" class= "number text-center mt-auto" id="hist_churn">40.0%<h2>
          </div>
        </div>
      </div>
      <div class="col-7 mb-3">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Persona Segmentation</h5>
            <div class="container">
                <div class="row">
                    <div class="col d-flex">
                        <div class= "card border-0">
                            <div class="card-body">
                                <h3 href="#" class= "persona-text text-center"> Price-Sensitive </h3>
                                <h3 href="#"class= "persona-number text-center"> 40.0% </h3>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class= "card border-0">
                            <div class="card-body">
                                <h3 href="#"class= "persona-text text-center"> Support-Dependent </h3>
                                <h3 href="#"class= "persona-number text-center"> 35.0% </h3>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class= "card border-0">
                            <div class="card-body">   
                                <h3 href="#"class= "persona-text text-center"> Feature-Driven </h3>
                                <h3 href="#"class= "persona-number text-center"> 25.0% </h3> 
                            </div>
                        </div>     
                    </div>
                </div>   
            </div>
          </div>
        </div>
      </div>
      <div class="col mb-3">
        <div class="card h-100">
          <div class="card-body churn">
            <div class="d-flex justify-content-between">
                <h5 class="card-title">Projected Churn Rate </h5>
                <button type="button" class="btn btn-sm btn-secondary" data-bs-toggle="modal" data-bs-target="#staticBackdrop"><i class="fa fa-info-circle aria-hidden=true"></i></button>
                <!-- Modal Popup -->
                <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-body mt-auto">
                                <button type="button" class="btn-close float-end" data-bs-dismiss="modal" aria-label="Close"></button>
                                <div class="mb-3">
                                    <h4 class="mb-3"> Model Deployed:</h4>
                                    <h5 class="maroon"> <i class="fa fa-arrow-right"></i> Random Forest </h5>
                                    <h5 class="maroon"> <i class="fa fa-arrow-right"></i> Convolutional Neural Networks (CNN) </h5>
                                </div>
                                <div>
                                    <h4 class="mt-5 mb-3"> Classification Report:</h4>
                                    <table id="myTable" class="table table-bordered-sm">
                                        <thead>
                                          <tr>
                                            <th scope="col" class="maroon">Metrics</th>
                                            <th scope="col" class="maroon text-center">Positive</th>
                                            <th scope="col" class="maroon text-center">Negative</th>
                                            <th scope="col" class="maroon text-center">Average</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <th scope="row" class="maroon">Accuracy</th>
                                            <td class="text-center" id="accuracy-positive"></td>
                                            <td class="text-center" id="accuracy-negative"></td>
                                            <td class="text-center" id="accuracy-average"></td>
                                          </tr>
                                          <tr>
                                            <th scope="row" class="maroon">Precision</th>
                                            <td class="text-center" id="precision-positive"></td>
                                            <td class="text-center" id="precision-negative"></td>
                                            <td class="text-center" id="precision-average"></td>
                                          </tr>
                                          <tr>
                                            <th scope="row" class="maroon">Recall</th>
                                            <td class="text-center" id="recall-positive"></td>
                                            <td class="text-center" id="recall-negative"></td>
                                            <td class="text-center" id="recall-average"></td>
                                          </tr>
                                          <tr>
                                            <th scope="row" class="maroon">F1</th>
                                            <td class="text-center" id="f1-positive"></td>
                                            <td class="text-center" id="f1-negative"></td>
                                            <td class="text-center" id="f1-average"></td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                                <button type="button" class="btn btn-secondary float-end my-2" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h2 href="#" class= "number text-center mt-4" id="hist_churn">15.0%</h2>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- Figure out how to connect the graphs using dummy data -->
<div class="container my-4">
    <div class="row">
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body my-0 py-0 mb-0">
                    <div class="graph-content" id="graph"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body my-0 py-0 mb-0">
                    <div class="graph-content" id="graph2"></div>
                </div>
            </div>
        </div>
    </div>    
</div>
<script src="script.js"></script>
</body>
</html>